<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Lap Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://iblogging.github.io/img/home-bg-jeep.jpg">
    <meta property="twitter:image" content="https://iblogging.github.io/img/home-bg-jeep.jpg" />
    

    
    <meta name="title" content="Verilog Building Blocks" />
    <meta property="og:title" content="Verilog Building Blocks" />
    <meta property="twitter:title" content="Verilog Building Blocks" />
    

    
    <meta name="description" content="Verilog Building Blocks">
    <meta property="og:description" content="Verilog Building Blocks" />
    <meta property="twitter:description" content="Verilog Building Blocks" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="Lap,Lap Blog, PaaS, Istio, Kubernetes, Metal Models, Microservice">
    <link rel="shortcut icon" href="/img/favicon.png">

    <title>Verilog Building Blocks | Lap Blog</title>

    <link rel="canonical" href="/post/2022-09-29-verilog-part-8/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css" rel="stylesheet" type="text/css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RNGWSCFDTD"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-RNGWSCFDTD');
    </script>

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Lap Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/fpga">fpga</a>
                        </li>
                        
                        <li>
                            <a href="/categories/linux">linux</a>
                        </li>
                        
                        <li>
                            <a href="/categories/mental-models">mental-models</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive/">ARCHIVE</a></li>
                    
                        <li><a href="/notes/">NOTES</a></li>
                    
                        <li><a href="/about/">ABOUT</a></li>
                    

                    
		    <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		    </li>
                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/img/home-bg-jeep.jpg')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/fpga" title="FPGA">
                            FPGA
                        </a>
                        
                        <a class="tag" href="/tags/verilog" title="Verilog">
                            Verilog
                        </a>
                        
                        <a class="tag" href="/tags/rtl" title="RTL">
                            RTL
                        </a>
                        
                    </div>
                    <h1>Verilog Building Blocks</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                Lap
                             
                            on 
                            Thursday, September 29, 2022
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h2 id="1-module">1. Module</h2>
<ul>
<li>A <code>module</code> is a block of Verilog code that implements a certain functionality.</li>
<li>Modules can be embedded within other modules and a higher level module can communicate with its lower level modules using their input and output ports.</li>
<li>A <code>module</code> should be enclosed within <code>module</code> and <code>endmodule</code> keywords</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> &lt;<span style="color:#8be9fd;font-style:italic">name</span>&gt; ([<span style="color:#8be9fd;font-style:italic">port_list</span>]);
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Contents of the module
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// A module can have an empty portlist
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">name</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Contents of the module
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><p>
  <img src="/img/verilog/dff_module.png" alt="">

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Module called &#34;dff&#34; has 3 inputs and 1 output port
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">dff</span> ( 	<span style="color:#8be9fd;font-style:italic">input</span> 			<span style="color:#8be9fd;font-style:italic">d</span>,
</span></span><span style="display:flex;"><span>							<span style="color:#8be9fd;font-style:italic">input</span> 			<span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>							<span style="color:#8be9fd;font-style:italic">input</span> 			<span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>							<span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span>	<span style="color:#8be9fd;font-style:italic">q</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Contents of the module
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	<span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">posedge</span> <span style="color:#8be9fd;font-style:italic">clk</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span><span style="color:#8be9fd;font-style:italic">rstn</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">q</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">q</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">d</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="2-ports">2. Ports</h2>
<p>
  <img src="/img/verilog/verilog-ports.png" alt="">

</p>
<ul>
<li>Ports are a set of signals that act as inputs and outputs to a particular module and are the primary way of communicating with it</li>
<li>Ports are like pins and are used by the design to send and receive signals from the outside world.</li>
</ul>
<h4 id="port-type">Port type</h4>
<table>
<thead>
<tr>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Input</td>
<td>The design module can only receive values from outside using its input ports</td>
</tr>
<tr>
<td>Output</td>
<td>The design module can only send values to the outside using its output ports</td>
</tr>
<tr>
<td>Inout</td>
<td>The design module can either send or receive values using its inout ports</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">input</span>  [<span style="color:#50fa7b">net_type</span>] [<span style="color:#8be9fd;font-style:italic">range</span>] <span style="color:#8be9fd;font-style:italic">list_of_names</span>; 	<span style="color:#6272a4">// Input port
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">inout</span>  [<span style="color:#50fa7b">net_type</span>] [<span style="color:#8be9fd;font-style:italic">range</span>] <span style="color:#8be9fd;font-style:italic">list_of_names</span>; 	<span style="color:#6272a4">// Input &amp; Output port
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">net_type</span>] [<span style="color:#8be9fd;font-style:italic">range</span>] <span style="color:#8be9fd;font-style:italic">list_of_names</span>; 	<span style="color:#6272a4">// Output port driven by a wire
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">var_type</span>] [<span style="color:#8be9fd;font-style:italic">range</span>] <span style="color:#8be9fd;font-style:italic">list_of_names</span>; 	<span style="color:#6272a4">// Output port driven by a variable
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span>  <span style="color:#8be9fd;font-style:italic">my_design</span> ( <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">wire</span>			<span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#8be9fd;font-style:italic">input</span> 					<span style="color:#8be9fd;font-style:italic">en</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#8be9fd;font-style:italic">input</span> 					<span style="color:#8be9fd;font-style:italic">rw</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#8be9fd;font-style:italic">inout</span> [<span style="color:#50fa7b">15</span>:<span style="color:#f1fa8c">0</span>]	  <span style="color:#8be9fd;font-style:italic">data</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#8be9fd;font-style:italic">output</span> 					<span style="color:#8be9fd">int</span> );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Design behavior as Verilog code
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="3-module-instantiations">3. Module Instantiations</h2>
<ul>
<li>Modules can be instantiated within other modules and ports of these instances can be connected with other signals inside the parent module</li>
<li>These port connections can be done via an ordered list or <code>by name.</code></li>
</ul>
<h3 id="port-connection-by-name">Port Connection by name</h3>
<p>The dot <code>.</code> indicates that the port name following the dot belongs to the design.
The signal name to which the design port has to be connected is given next within parentheses <code>( )</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">mydesign</span> ( <span style="color:#8be9fd;font-style:italic">input</span>  <span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>, <span style="color:#8be9fd;font-style:italic">z</span>,     <span style="color:#6272a4">// x is at position 1, y at 2, x at 3 and
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>                  <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">o</span>);          <span style="color:#6272a4">// o is at position 4
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">design_top</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">wire</span> [<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">a</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">wire</span>        <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">c</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">mydesign</span> <span style="color:#8be9fd;font-style:italic">d0</span>  ( .<span style="color:#8be9fd;font-style:italic">x</span> (<span style="color:#8be9fd;font-style:italic">a</span>[<span style="color:#bd93f9">0</span>]),    <span style="color:#6272a4">// signal &#34;x&#34; in mydesign should be connected to &#34;a[0]&#34; in this module (design_top)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	               .<span style="color:#8be9fd;font-style:italic">y</span> (<span style="color:#8be9fd;font-style:italic">b</span>),       <span style="color:#6272a4">// signal &#34;y&#34; in mydesign should be connected to &#34;b&#34; in this module (design_top)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	               .<span style="color:#8be9fd;font-style:italic">z</span> (<span style="color:#8be9fd;font-style:italic">a</span>[<span style="color:#bd93f9">1</span>]),
</span></span><span style="display:flex;"><span>	               .<span style="color:#8be9fd;font-style:italic">o</span> (<span style="color:#8be9fd;font-style:italic">c</span>));
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="4-assign-statement">4. Assign statement</h2>
<p>As long as the +5V battery is applied to one end of the wire, the component connected to the other end of the wire will get the required voltage</p>
<p>
  <img src="/img/verilog/breadboard-circuit.jpg" alt="">

</p>
<ul>
<li>Signals of type <code>wire or a similar wire like data type</code> requires the <code>continuous assignment of a value</code></li>
</ul>
<p>
  <img src="/img/verilog/assign-flash-1.png" alt="">

</p>
<p>If the wires are instead converted into ports and synthesized, we will get an RTL schematic like the one shown below after synthesis.</p>
<p>
  <img src="/img/verilog/and_schematic.png" alt="">

</p>
<blockquote>
<p>Continuous assignment statement can be used to represent combinational gates in Verilog.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">xyz</span> (<span style="color:#8be9fd;font-style:italic">input</span> [<span style="color:#50fa7b">3</span>:<span style="color:#f1fa8c">0</span>] 	<span style="color:#8be9fd;font-style:italic">x</span>,		<span style="color:#6272a4">// x is a 4-bit vector net
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>						<span style="color:#8be9fd;font-style:italic">input</span> 				<span style="color:#8be9fd;font-style:italic">y</span>, 		<span style="color:#6272a4">// y is a scalar net (1-bit)
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>						<span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">4</span>:<span style="color:#f1fa8c">0</span>] 	<span style="color:#8be9fd;font-style:italic">z</span> ); 	<span style="color:#6272a4">// z is a 5-bit vector net
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">wire</span> [<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] 	<span style="color:#8be9fd;font-style:italic">a</span>;
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">wire</span> 				<span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Assume one of the following assignments are chosen in real design
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// If x=&#39;hC and y=&#39;h1 let us see the value of z
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #1: 4-bits of x and 1 bit of y is concatenated to get a 5-bit net
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// and is assigned to the 5-bit nets of z. So value of z=&#39;b11001 or z=&#39;h19
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span> <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #2: 4-bits of x and 1 bit of y is concatenated to get a 5-bit net
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// and is assigned to selected 3-bits of net z. Remaining 2 bits of z remains
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// undriven and will be high-imp. So value of z=&#39;bZ001Z
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>:<span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #3: The same statement is used but now bit4 of z is driven with a constant
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// value of 1. Now z = &#39;b1001Z because only bit0 remains undriven
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>:<span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">4</span>] <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #4: Assume bit3 is driven instead, but now there are two drivers for bit3,
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// and both are driving the same value of 0. So there should be no contention and
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// value of z = &#39;bZ001Z
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>:<span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>] <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #5: Assume bit3 is instead driven with value 1, so now there are two drivers
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// with different values, where the first line is driven with the value of X which
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// at the time is 0 and the second assignment where it is driven with value 1, so
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// now it becomes unknown which will win. So z=&#39;bZX01Z
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>:<span style="color:#bd93f9">1</span>] <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">3</span>] <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #6: Partial selection of operands on RHS is also possible and say only 2-bits
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// are chosen from x, then z = &#39;b00001 because z[4:3] will be driven with 0
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span> <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>[<span style="color:#bd93f9">1</span>:<span style="color:#bd93f9">0</span>], <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #7: Say we explicitly assign only 3-bits of z and leave remaining unconnected
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// then z = &#39;bZZ001
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span>[<span style="color:#bd93f9">2</span>:<span style="color:#bd93f9">0</span>] <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>[<span style="color:#bd93f9">1</span>:<span style="color:#bd93f9">0</span>], <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #8: Same variable can be used multiple times as well and z = &#39;b00111
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// 3{y} is the same as {y, y, y}
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">z</span> <span style="color:#ff79c6">=</span> {<span style="color:#bd93f9">3</span>{<span style="color:#8be9fd;font-style:italic">y</span>}};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #9: LHS can also be concatenated: a is 2-bit vector and b is scalar
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// RHS is evaluated to 11001 and LHS is 3-bit wide so first 3 bits from LSB of RHS
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// will be assigned to LHS. So a = &#39;b00 and b =&#39;b1
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> {<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>} <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Case #10: If we reverse order on LHS keeping RHS same, we get a = &#39;b01 and b=&#39;b0
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">assign</span> {<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>} <span style="color:#ff79c6">=</span> {<span style="color:#8be9fd;font-style:italic">x</span>, <span style="color:#8be9fd;font-style:italic">y</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h3 id="assign-reg-variables">Assign reg variables</h3>
<ul>
<li>It is <strong>illegal</strong> to drive or assign reg type variables with an <strong>assign</strong> statement.
<ul>
<li>a reg variable is capable of storing data and does not require to be driven continuously</li>
<li><code>reg</code> signals can only be driven in procedural blocks like <code>initial </code>and <code>always</code>.</li>
</ul>
</li>
</ul>
<h3 id="implicit-continuous-assignment">Implicit Continuous Assignment</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">wire</span> [<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">a</span>;
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">x</span> <span style="color:#ff79c6">&amp;</span> <span style="color:#8be9fd;font-style:italic">y</span>; 			<span style="color:#6272a4">// Explicit assignment
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">wire</span> [<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">x</span> <span style="color:#ff79c6">&amp;</span> <span style="color:#8be9fd;font-style:italic">y</span>; 	<span style="color:#6272a4">// Implicit assignment
</span></span></span></code></pre></div><h3 id="combinational-logic-design">Combinational Logic Design</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// This module takes four inputs and performs a boolean
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#f1fa8c">// operation and assigns output to o. The combinational
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">// logic is realized using assign statement.
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c"></span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">combo</span> (	<span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">c</span>, <span style="color:#8be9fd;font-style:italic">d</span>,
</span></span><span style="display:flex;"><span>								<span style="color:#8be9fd;font-style:italic">output</span>  <span style="color:#8be9fd;font-style:italic">o</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">o</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">~</span>((<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">&amp;</span> <span style="color:#8be9fd;font-style:italic">b</span>) <span style="color:#ff79c6">|</span> <span style="color:#8be9fd;font-style:italic">c</span> <span style="color:#ff79c6">^</span> <span style="color:#8be9fd;font-style:italic">d</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="5-operators">5. Operators</h2>
<h3 id="51-arithmetic-operators">5.1 Arithmetic Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>a + b</td>
<td>a plus b</td>
</tr>
<tr>
<td>a - b</td>
<td>a minus b</td>
</tr>
<tr>
<td>a * b</td>
<td>a multiplied by b</td>
</tr>
<tr>
<td>a / b</td>
<td>a divided by b</td>
</tr>
<tr>
<td>a % b</td>
<td>a modulo b</td>
</tr>
<tr>
<td>a ** b</td>
<td>a to the power of b</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">des</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">45</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">9</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Add + = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Sub - = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">-</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Mul * = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">*</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Div / = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">/</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Mod %% = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">%</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Pow ** = %d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">**</span> <span style="color:#bd93f9">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h3 id="52-relational-operators">5.2 Relational Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>a &lt; b</td>
<td>a less than b</td>
</tr>
<tr>
<td>a &gt; b</td>
<td>a greater than b</td>
</tr>
<tr>
<td>a &lt;= b</td>
<td>a less than or equal to b</td>
</tr>
<tr>
<td>a &gt;= b</td>
<td>a greater than or equal to b</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">des</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">45</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">9</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1 &gt;= data2 : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">&gt;=</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">45</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">45</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1 &lt;= data2 : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">data2</span>); <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">9</span>; <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8</span>; <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1 &gt; data2 : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> &gt; <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">22</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">22</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1 &lt; data2 : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span> &lt; <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h3 id="53-equality-operators">5.3 Equality Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>a === b</td>
<td>a equal to b, including x and z</td>
</tr>
<tr>
<td>a !== b</td>
<td>a not equal to b, including x and z</td>
</tr>
<tr>
<td>a == b</td>
<td>a equal to b, result can be unknown</td>
</tr>
<tr>
<td>a != b</td>
<td>a not equal to b, result can be unknown</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">des</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>]  <span style="color:#8be9fd;font-style:italic">data2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">45</span>;     <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">9</span>;      <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0d) === data2(%0d) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">===</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b101x; data2 = &#39;</span><span style="color:#8be9fd;font-style:italic">b1011</span>; <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0b) === data2(%0b) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">===</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b101x; data2 = &#39;</span><span style="color:#8be9fd;font-style:italic">b101x</span>; <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0b) === data2(%0b) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">===</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b101z; data2 = &#39;</span><span style="color:#8be9fd;font-style:italic">b1z00</span>; <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0b) !== data2(%0b) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">!==</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">39</span>;     <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">39</span>;     <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0d) == data2(%0d) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">==</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">14</span>;     <span style="color:#8be9fd;font-style:italic">data2</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">14</span>;     <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Result for data1(%0d) != data2(%0d) : %0d&#34;</span>, <span style="color:#8be9fd;font-style:italic">data1</span>, <span style="color:#8be9fd;font-style:italic">data2</span>, <span style="color:#8be9fd;font-style:italic">data1</span> <span style="color:#ff79c6">!=</span> <span style="color:#8be9fd;font-style:italic">data2</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h3 id="54-logical-operators">5.4 Logical Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>a &amp;&amp; b</td>
<td>evaluates to true if a and b are true</td>
</tr>
<tr>
<td>a</td>
<td></td>
</tr>
<tr>
<td>!a</td>
<td>Converts non-zero value to zero, and vice versa</td>
</tr>
</tbody>
</table>
<h3 id="55-bitwise-operators">5.5 Bitwise Operators</h3>
<h3 id="56-shift-operators">5.6 Shift Operators</h3>
<ul>
<li>Logical shift operators     : &laquo;  and &raquo;</li>
<li>Arithmetic shift operators : &laquo;&lt; and &raquo;&gt;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">des</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">7</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">data</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd">int</span>       <span style="color:#8be9fd;font-style:italic">i</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">data</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">8</span><span style="color:#f1fa8c">&#39;h1;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    </span><span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span><span style="color:#f1fa8c"> (&#34;Original data = &#39;</span><span style="color:#8be9fd;font-style:italic">d</span><span style="color:#ff79c6">%</span><span style="color:#bd93f9">0</span><span style="color:#8be9fd;font-style:italic">d</span> <span style="color:#ff79c6">or</span> <span style="color:#f1fa8c">&#39;b%0b&#34;, data, data);
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    for (i = 0; i &lt; 8; i +=1 ) begin
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">      </span><span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span><span style="color:#f1fa8c"> (&#34;data &lt;&lt; %0d = &#39;</span><span style="color:#8be9fd;font-style:italic">b</span><span style="color:#ff79c6">%</span><span style="color:#8be9fd;font-style:italic">b</span><span style="color:#f1fa8c">&#34;, i, data &lt;&lt; i);
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    end
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    data = 8&#39;h80;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    </span><span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span><span style="color:#f1fa8c"> (&#34;</span><span style="color:#50fa7b">Original</span> <span style="color:#8be9fd;font-style:italic">data</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;d%0d or &#39;</span><span style="color:#8be9fd;font-style:italic">b</span><span style="color:#ff79c6">%</span><span style="color:#bd93f9">0</span><span style="color:#8be9fd;font-style:italic">b</span><span style="color:#f1fa8c">&#34;, data, data);
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    for (i = 0; i &lt; 8; i +=1 ) begin </span><span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span><span style="color:#f1fa8c"> (&#34;</span><span style="color:#8be9fd;font-style:italic">data</span> <span style="color:#ff79c6">&gt;&gt;</span> <span style="color:#ff79c6">%</span><span style="color:#bd93f9">0</span><span style="color:#8be9fd;font-style:italic">d</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b%b&#34;, i, data &gt;&gt; i);
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    end
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">    data = 8&#39;</span><span style="color:#8be9fd;font-style:italic">h1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 1 = &#39;b%b&#34;</span>, <span style="color:#8be9fd;font-style:italic">data</span> <span style="color:#ff79c6">&gt;&gt;</span> <span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ncsim&gt; run
</span></span><span style="display:flex;"><span>Original <span style="color:#8be9fd;font-style:italic">data</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;d1 or &#39;</span>b00000001
</span></span><span style="display:flex;"><span>data <span style="color:#f1fa8c">&lt;&lt; 0 = &#39;b0</span><span style="color:#bd93f9">0000001</span>
</span></span><span style="display:flex;"><span>data <span style="color:#f1fa8c">&lt;&lt; 1 = &#39;b0000001</span><span style="color:#bd93f9">0</span>
</span></span><span style="display:flex;"><span>data <span style="color:#f1fa8c">&lt;&lt; 2 = &#39;b00000100
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &lt;&lt; 3 = &#39;b00001000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &lt;&lt; 4 = &#39;b00010000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &lt;&lt; 5 = &#39;b00100000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &lt;&lt; 6 = &#39;b01000000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &lt;&lt; 7 = &#39;b10000000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">Original data = &#39;d12</span><span style="color:#bd93f9">8</span> or <span style="color:#f1fa8c">&#39;b10000000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 0 = &#39;</span>b10000000
</span></span><span style="display:flex;"><span>data &gt;&gt; <span style="color:#8be9fd;font-style:italic">1</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b01000000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 2 = &#39;</span>b00100000
</span></span><span style="display:flex;"><span>data &gt;&gt; <span style="color:#8be9fd;font-style:italic">3</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b00010000
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 4 = &#39;</span>b00001000
</span></span><span style="display:flex;"><span>data &gt;&gt; <span style="color:#8be9fd;font-style:italic">5</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b00000100
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 6 = &#39;</span>b00000010
</span></span><span style="display:flex;"><span>data &gt;&gt; <span style="color:#8be9fd;font-style:italic">7</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;b00000001
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">
</span></span></span><span style="display:flex;"><span><span style="color:#f1fa8c">data &gt;&gt; 1 = &#39;</span>b00000000
</span></span><span style="display:flex;"><span>ncsim: *W,RNQUIE: Simulation is complete.
</span></span></code></pre></div><h2 id="6-always-block">6. always block</h2>
<p>An <code>always</code> block is one of the procedural blocks in Verilog. Statements <code>inside an always block are executed sequentially</code>.</p>
<ul>
<li>The <code>always</code> block is executed at some particular <code>event</code>. The event is defined by a <code>sensitivity list.</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">event</span>)
</span></span><span style="display:flex;"><span>	[<span style="color:#8be9fd;font-style:italic">statement</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">event</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	[<span style="color:#50fa7b">multiple</span> <span style="color:#50fa7b">statements</span>]
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">end</span>
</span></span></code></pre></div><h3 id="what-is-the-sensitivity-list-">What is the sensitivity list ?</h3>
<p>A sensitivity list is the expression that defines when the <code>always</code> block should be executed and is specified after the <code>@</code> operator within parentheses <code>( )</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Execute always block whenever value of &#34;a&#34; or &#34;b&#34; change
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	[<span style="color:#50fa7b">statements</span>]
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">end</span>
</span></span></code></pre></div><h3 id="what-is-the-always-block-used-for-">What is the always block used for ?</h3>
<p>An <code>always</code> block can be used to realize <code>combinational or sequential elements</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Execute always block at positive edge of signal &#34;clk&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">posedge</span> <span style="color:#8be9fd;font-style:italic">clk</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	[<span style="color:#50fa7b">statements</span>]
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">end</span>
</span></span></code></pre></div><h3 id="what-happens-if-there-is-no-sensitivity-list-">What happens if there is no sensitivity list ?</h3>
<p>If there are no timing control statments within an always block, the simulation will hang because of a zero-delay infinite loop !</p>
<h3 id="example">Example</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">tff</span> (<span style="color:#8be9fd;font-style:italic">input</span>  		<span style="color:#8be9fd;font-style:italic">d</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span> 	<span style="color:#8be9fd;font-style:italic">q</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">posedge</span> <span style="color:#8be9fd;font-style:italic">clk</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">negedge</span> <span style="color:#8be9fd;font-style:italic">rstn</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span><span style="color:#8be9fd;font-style:italic">rstn</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">q</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ff79c6">if</span> (<span style="color:#8be9fd;font-style:italic">d</span>)
</span></span><span style="display:flex;"><span>				<span style="color:#8be9fd;font-style:italic">q</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#ff79c6">~</span><span style="color:#8be9fd;font-style:italic">q</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>				<span style="color:#8be9fd;font-style:italic">q</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">q</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><ol>
<li>First <code>if</code> block checks value of <code>active-low reset rstn</code></li>
</ol>
<ul>
<li>If <code>rstn is zero</code>, then output <code>q</code> should be reset to <code>default value of 0</code></li>
<li>If <code>rstn is one</code>, then it means reset is not applied and should follow default behavior</li>
</ul>
<ol start="2">
<li>If the previous step is false:</li>
</ol>
<ul>
<li>Check value of <code>d</code> and if it is found to be one, then invert value of <code>q</code></li>
<li>If <code>d</code> is 0, then maintain value of <code>q</code></li>
</ul>
<h3 id="combinational-logic-with-always">Combinational Logic with always</h3>
<p>
  <img src="/img/verilog/simple_combo_with_assign.png" alt="">

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">combo</span> ( 	<span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">c</span>, <span style="color:#8be9fd;font-style:italic">d</span>, <span style="color:#8be9fd;font-style:italic">e</span>,
</span></span><span style="display:flex;"><span>								<span style="color:#8be9fd;font-style:italic">output</span> 	<span style="color:#8be9fd;font-style:italic">reg</span> <span style="color:#8be9fd;font-style:italic">z</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> ( <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">c</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">d</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">e</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8be9fd;font-style:italic">z</span> <span style="color:#ff79c6">=</span> ((<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">&amp;</span> <span style="color:#8be9fd;font-style:italic">b</span>) <span style="color:#ff79c6">|</span> (<span style="color:#8be9fd;font-style:italic">c</span> <span style="color:#ff79c6">^</span> <span style="color:#8be9fd;font-style:italic">d</span>) <span style="color:#ff79c6">&amp;</span> <span style="color:#ff79c6">~</span><span style="color:#8be9fd;font-style:italic">e</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><ul>
<li>a simple digital combinational logic which has
<ul>
<li>an output signal called <code>z of type reg</code> that
<ul>
<li>gets updated whenever one of the signals in the <code>sensitivity list</code> changes its value.</li>
<li>The <code>sensitivity list</code> is declared within parentheses after the <code>@</code>operator.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Half Adder example</strong>

  <img src="/img/verilog/half_adder_with_assign.png" alt="">

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">ha</span> ( <span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>,
</span></span><span style="display:flex;"><span>						<span style="color:#8be9fd;font-style:italic">output</span>	<span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>		{<span style="color:#8be9fd;font-style:italic">cout</span>, <span style="color:#8be9fd;font-style:italic">sum</span>} <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><p>The half adder module</p>
<ul>
<li>accepts two scalar inputs <code>a and b</code> and</li>
<li>uses combinational logic to assign the output signals <code>sum and carry bit cout</code>.
<ul>
<li>The <code>sum</code> is driven by an <code>XOR between a and b </code></li>
<li>the <code>carry</code> bit is obtained by an <code>AND between the two inputs</code>.</li>
</ul>
</li>
</ul>
<p><strong>Full Adder</strong>

  <img src="/img/verilog/full_adder_with_assign.png" alt="">

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">fa</span> (	<span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">cin</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span>	<span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">cin</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    {<span style="color:#8be9fd;font-style:italic">cout</span>, <span style="color:#8be9fd;font-style:italic">sum</span>} <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">cin</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><p><strong>2x1 Multiplexer</strong>

  <img src="/img/verilog/2x1_mux_with_assign.png" alt="">

</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">mux_2x1</span> (<span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">sel</span>,
</span></span><span style="display:flex;"><span>				<span style="color:#8be9fd;font-style:italic">output</span> 	<span style="color:#8be9fd;font-style:italic">reg</span> <span style="color:#8be9fd;font-style:italic">c</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> ( <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">sel</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">c</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">sel</span> <span style="color:#8be9fd;font-style:italic">?</span> <span style="color:#8be9fd;font-style:italic">a</span> : <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h3 id="sequential-logic-with-always">Sequential Logic with always</h3>
<ul>
<li>An <code>always block </code>is also <code>mainly used to implement sequential logic</code> which has memory elements like flip flops that can hold values.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">mod10_counter</span> ( 	<span style="color:#8be9fd;font-style:italic">input</span>		<span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>												<span style="color:#8be9fd;font-style:italic">input</span> 	<span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>												<span style="color:#8be9fd;font-style:italic">output</span>	<span style="color:#8be9fd;font-style:italic">reg</span>[<span style="color:#bd93f9">3</span>:<span style="color:#bd93f9">0</span>] <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">posedge</span> <span style="color:#8be9fd;font-style:italic">clk</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span><span style="color:#8be9fd;font-style:italic">rstn</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#8be9fd;font-style:italic">end</span> <span style="color:#ff79c6">else</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>			<span style="color:#ff79c6">if</span> (<span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">10</span>)
</span></span><span style="display:flex;"><span>				<span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>				<span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="7-parameters">7. Parameters</h2>
<ul>
<li>Parameters are Verilog constructs that allow a module to be reused with a different specification</li>
<li>They are like arguments to a function that are passed in during a function call.</li>
<li>Parameters are basically constants and hence it&rsquo;s illegal to modify their value at runtime</li>
</ul>
<h3 id="71-module-parameters">7.1 Module parameters</h3>
<ul>
<li>Module parameters can be used to override parameter definitions within a module and this <code>makes the module have a different set of parameters at compile time</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">counter</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">#</span>( 	<span style="color:#8be9fd;font-style:italic">parameter</span> <span style="color:#50fa7b">N</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">2</span>,
</span></span><span style="display:flex;"><span>   		<span style="color:#8be9fd;font-style:italic">parameter</span> <span style="color:#50fa7b">DOWN</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  ( <span style="color:#8be9fd;font-style:italic">input</span> 							<span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">input</span> 							<span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">input</span> 							<span style="color:#8be9fd;font-style:italic">en</span>,
</span></span><span style="display:flex;"><span>   	<span style="color:#8be9fd;font-style:italic">output</span> 	<span style="color:#8be9fd;font-style:italic">reg</span> [<span style="color:#50fa7b">N</span>-<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">posedge</span> <span style="color:#8be9fd;font-style:italic">clk</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span><span style="color:#8be9fd;font-style:italic">rstn</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>      <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">end</span> <span style="color:#ff79c6">else</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">if</span> (<span style="color:#8be9fd;font-style:italic">en</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> (<span style="color:#50fa7b">DOWN</span>)
</span></span><span style="display:flex;"><span>          <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>          	<span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>         <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">&lt;=</span> <span style="color:#8be9fd;font-style:italic">out</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">design_top</span> (    <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">en</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">counter</span> <span style="color:#ff79c6">#</span>(.<span style="color:#50fa7b">N</span>(<span style="color:#bd93f9">2</span>)) <span style="color:#8be9fd;font-style:italic">u0</span> (	.<span style="color:#50fa7b">clk</span>(<span style="color:#8be9fd;font-style:italic">clk</span>),
</span></span><span style="display:flex;"><span>                          .<span style="color:#50fa7b">rstn</span>(<span style="color:#8be9fd;font-style:italic">rstn</span>),
</span></span><span style="display:flex;"><span>                          .<span style="color:#50fa7b">en</span>(<span style="color:#8be9fd;font-style:italic">en</span>));
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">design_top</span> (    <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">clk</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">rstn</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">en</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">3</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">counter</span> <span style="color:#ff79c6">#</span>(.<span style="color:#50fa7b">N</span>(<span style="color:#bd93f9">4</span>), .<span style="color:#50fa7b">DOWN</span>(<span style="color:#bd93f9">1</span>))
</span></span><span style="display:flex;"><span>    		<span style="color:#8be9fd;font-style:italic">u1</span> (	.<span style="color:#50fa7b">clk</span>(<span style="color:#8be9fd;font-style:italic">clk</span>),
</span></span><span style="display:flex;"><span>              .<span style="color:#50fa7b">rstn</span>(<span style="color:#8be9fd;font-style:italic">rstn</span>),
</span></span><span style="display:flex;"><span>              .<span style="color:#50fa7b">en</span>(<span style="color:#8be9fd;font-style:italic">en</span>));
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="8-initial-block">8. initial block</h2>
<p>
  <img src="/img/verilog/initial-flash-1.png" alt="">

</p>
<ul>
<li>A set of Verilog statements are <code>usually executed sequentially in a simulation</code>.
<ul>
<li>An initial block is <code>not synthesizable</code> and hence <code>cannot be converted into a hardware schematic</code> with digital elements</li>
<li>started at the beginning of a simulation at time 0 unit.</li>
<li>This block will be executed only once during the entire simulation</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">initial</span>
</span></span><span style="display:flex;"><span>	[<span style="color:#50fa7b">single</span> <span style="color:#50fa7b">statement</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	[<span style="color:#50fa7b">multiple</span> <span style="color:#50fa7b">statements</span>]
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">end</span>
</span></span></code></pre></div><p>
  <img src="/img/verilog/initial-flash-3.png" alt="">

</p>
<p>
  <img src="/img/verilog/initial-flash-2.png" alt="">

</p>
<ul>
<li><code>three initial blocks</code> all of which are started at the <code>same time and run in parallel</code>.</li>
</ul>
<blockquote>
<p>$finish is a Verilog system task that tells the simulator to terminate the current simulation.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">initial</span> <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">#30 $finish;</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">end</span>
</span></span></code></pre></div><h2 id="9-generate-block">9. generate block</h2>
<ul>
<li>A <code>generate</code> block allows to multiply module instances or perform conditional instantiation of any module
<ul>
<li>the design to be built based on Verilog parameters</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Design for a half-adder
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">ha</span> ( <span style="color:#8be9fd;font-style:italic">input</span>   <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#8be9fd;font-style:italic">output</span>  <span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">sum</span>  <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">^</span> <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">cout</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">&amp;</span> <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// A top level design that contains N instances of half adder
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">my_design</span>
</span></span><span style="display:flex;"><span>	<span style="color:#ff79c6">#</span>(<span style="color:#8be9fd;font-style:italic">parameter</span> <span style="color:#50fa7b">N</span><span style="color:#ff79c6">=</span><span style="color:#bd93f9">4</span>)
</span></span><span style="display:flex;"><span>		(	<span style="color:#8be9fd;font-style:italic">input</span> [<span style="color:#50fa7b">N</span>-<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>,
</span></span><span style="display:flex;"><span>			<span style="color:#8be9fd;font-style:italic">output</span> [<span style="color:#50fa7b">N</span>-<span style="color:#50fa7b">1</span>:<span style="color:#f1fa8c">0</span>] <span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Declare a temporary loop variable to be used during
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	<span style="color:#6272a4">// generation and won&#39;t be available during simulation
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	<span style="color:#8be9fd;font-style:italic">genvar</span> <span style="color:#8be9fd;font-style:italic">i</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6272a4">// Generate for loop to instantiate N times
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>	<span style="color:#8be9fd;font-style:italic">generate</span>
</span></span><span style="display:flex;"><span>		<span style="color:#ff79c6">for</span> (<span style="color:#8be9fd;font-style:italic">i</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>; <span style="color:#8be9fd;font-style:italic">i</span> &lt; <span style="color:#50fa7b">N</span>; <span style="color:#8be9fd;font-style:italic">i</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">i</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>          <span style="color:#8be9fd;font-style:italic">ha</span> <span style="color:#8be9fd;font-style:italic">u0</span> (<span style="color:#8be9fd;font-style:italic">a</span>[<span style="color:#8be9fd;font-style:italic">i</span>], <span style="color:#8be9fd;font-style:italic">b</span>[<span style="color:#8be9fd;font-style:italic">i</span>], <span style="color:#8be9fd;font-style:italic">sum</span>[<span style="color:#8be9fd;font-style:italic">i</span>], <span style="color:#8be9fd;font-style:italic">cout</span>[<span style="color:#8be9fd;font-style:italic">i</span>]);
</span></span><span style="display:flex;"><span>		<span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8be9fd;font-style:italic">endgenerate</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Design #1: Half adder
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">ha</span> (<span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>,
</span></span><span style="display:flex;"><span>           <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span> <span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span>)
</span></span><span style="display:flex;"><span>  {<span style="color:#8be9fd;font-style:italic">cout</span>, <span style="color:#8be9fd;font-style:italic">sum</span>} <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">initial</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Half adder instantiation&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Design #2: Full adder
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">fa</span> (<span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">cin</span>,
</span></span><span style="display:flex;"><span>           <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span> <span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">cin</span>)
</span></span><span style="display:flex;"><span>  {<span style="color:#8be9fd;font-style:italic">cout</span>, <span style="color:#8be9fd;font-style:italic">sum</span>} <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">+</span> <span style="color:#8be9fd;font-style:italic">cin</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">initial</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;Full adder instantiation&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Top level design: Choose between half adder and full adder
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">my_adder</span> (<span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">cin</span>,
</span></span><span style="display:flex;"><span>                 <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">sum</span>, <span style="color:#8be9fd;font-style:italic">cout</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">parameter</span> <span style="color:#50fa7b">ADDER_TYPE</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">generate</span>
</span></span><span style="display:flex;"><span>    <span style="color:#50fa7b">case</span>(<span style="color:#50fa7b">ADDER_TYPE</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#bd93f9">0</span> : <span style="color:#8be9fd;font-style:italic">ha</span> <span style="color:#8be9fd;font-style:italic">u0</span> (.<span style="color:#50fa7b">a</span>(<span style="color:#8be9fd;font-style:italic">a</span>), .<span style="color:#50fa7b">b</span>(<span style="color:#8be9fd;font-style:italic">b</span>), .<span style="color:#50fa7b">sum</span>(<span style="color:#8be9fd;font-style:italic">sum</span>), .<span style="color:#50fa7b">cout</span>(<span style="color:#8be9fd;font-style:italic">cout</span>));
</span></span><span style="display:flex;"><span>      <span style="color:#bd93f9">1</span> : <span style="color:#8be9fd;font-style:italic">fa</span> <span style="color:#8be9fd;font-style:italic">u1</span> (.<span style="color:#50fa7b">a</span>(<span style="color:#8be9fd;font-style:italic">a</span>), .<span style="color:#50fa7b">b</span>(<span style="color:#8be9fd;font-style:italic">b</span>), .<span style="color:#50fa7b">cin</span>(<span style="color:#8be9fd;font-style:italic">cin</span>), .<span style="color:#50fa7b">sum</span>(<span style="color:#8be9fd;font-style:italic">sum</span>), .<span style="color:#50fa7b">cout</span>(<span style="color:#8be9fd;font-style:italic">cout</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">endcase</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">endgenerate</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span><span style="color:#6272a4">// Design #1: Multiplexer design uses an &#34;assign&#34; statement to assign
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// out signal
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">mux_assign</span> ( <span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">sel</span>,
</span></span><span style="display:flex;"><span>                   <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">assign</span> <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">sel</span> <span style="color:#8be9fd;font-style:italic">?</span> <span style="color:#8be9fd;font-style:italic">a</span> : <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// The initial display statement is used so that
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// we know which design got instantiated from simulation
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// logs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">initial</span>
</span></span><span style="display:flex;"><span>  	<span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;mux_assign is instantiated&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Design #2: Multiplexer design uses a &#34;case&#34; statement to drive
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4">// out signal
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">mux_case</span> (<span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">sel</span>,
</span></span><span style="display:flex;"><span>                 <span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">reg</span> <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">always</span> <span style="color:#ff79c6">@</span> (<span style="color:#8be9fd;font-style:italic">a</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">b</span> <span style="color:#ff79c6">or</span> <span style="color:#8be9fd;font-style:italic">sel</span>) <span style="color:#8be9fd;font-style:italic">begin</span>
</span></span><span style="display:flex;"><span>  	<span style="color:#8be9fd;font-style:italic">case</span> (<span style="color:#8be9fd;font-style:italic">sel</span>)
</span></span><span style="display:flex;"><span>    	<span style="color:#bd93f9">0</span> : <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">a</span>;
</span></span><span style="display:flex;"><span>   	 	<span style="color:#bd93f9">1</span> : <span style="color:#8be9fd;font-style:italic">out</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">b</span>;
</span></span><span style="display:flex;"><span>  	<span style="color:#8be9fd;font-style:italic">endcase</span>
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// The initial display statement is used so that
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// we know which design got instantiated from simulation
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// logs
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">initial</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">$</span><span style="color:#8be9fd;font-style:italic">display</span> (<span style="color:#f1fa8c">&#34;mux_case is instantiated&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">// Top Level Design: Use a parameter to choose either one
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span><span style="color:#ff79c6">module</span> <span style="color:#8be9fd;font-style:italic">my_design</span> (	<span style="color:#8be9fd;font-style:italic">input</span> <span style="color:#8be9fd;font-style:italic">a</span>, <span style="color:#8be9fd;font-style:italic">b</span>, <span style="color:#8be9fd;font-style:italic">sel</span>,
</span></span><span style="display:flex;"><span>         			<span style="color:#8be9fd;font-style:italic">output</span> <span style="color:#8be9fd;font-style:italic">out</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">parameter</span> <span style="color:#50fa7b">USE_CASE</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Use a &#34;generate&#34; block to instantiate either mux_case
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// or mux_assign using an if else construct with generate
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">generate</span>
</span></span><span style="display:flex;"><span>  	<span style="color:#ff79c6">if</span> (<span style="color:#50fa7b">USE_CASE</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#8be9fd;font-style:italic">mux_case</span> <span style="color:#8be9fd;font-style:italic">mc</span> (.<span style="color:#50fa7b">a</span>(<span style="color:#8be9fd;font-style:italic">a</span>), .<span style="color:#50fa7b">b</span>(<span style="color:#8be9fd;font-style:italic">b</span>), .<span style="color:#50fa7b">sel</span>(<span style="color:#8be9fd;font-style:italic">sel</span>), .<span style="color:#50fa7b">out</span>(<span style="color:#8be9fd;font-style:italic">out</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">else</span>
</span></span><span style="display:flex;"><span>      <span style="color:#8be9fd;font-style:italic">mux_assign</span> <span style="color:#8be9fd;font-style:italic">ma</span> (.<span style="color:#50fa7b">a</span>(<span style="color:#8be9fd;font-style:italic">a</span>), .<span style="color:#50fa7b">b</span>(<span style="color:#8be9fd;font-style:italic">b</span>), .<span style="color:#50fa7b">sel</span>(<span style="color:#8be9fd;font-style:italic">sel</span>), .<span style="color:#50fa7b">out</span>(<span style="color:#8be9fd;font-style:italic">out</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#8be9fd;font-style:italic">endgenerate</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">endmodule</span>
</span></span></code></pre></div><h2 id="source">Source</h2>
<ul>
<li><a href="https://www.chipverify.com/verilog/verilog-modules">https://www.chipverify.com/verilog/verilog-modules</a></li>
</ul>


                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/2022-09-29-understand-shire-source-code/" data-toggle="tooltip" data-placement="top" title=" Understand shire">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/2022-09-30-asking-the-right-questions-c1/" data-toggle="tooltip" data-placement="top" title="The Benefit and Manner of Asking the Right">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                




<script src="https://utteranc.es/client.js"
        repo="iblogging/iblogging.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        <a href="/tags/book" title="book">
                            book
                        </a>
                        
                        
                        
                        <a href="/tags/critical-thinking" title="critical-thinking">
                            critical-thinking
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/fpga" title="fpga">
                            fpga
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/mental-models" title="mental-models">
                            mental-models
                        </a>
                        
                        
                        
                        <a href="/tags/questioning" title="questioning">
                            questioning
                        </a>
                        
                        
                        
                        <a href="/tags/risc-v" title="risc-v">
                            risc-v
                        </a>
                        
                        
                        
                        <a href="/tags/rtl" title="rtl">
                            rtl
                        </a>
                        
                        
                        
                        <a href="/tags/verilog" title="verilog">
                            verilog
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:lapngodoan@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="Lap Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






<script src="https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js" integrity="sha256-Qsk2KRBCN5qVZX7B+8+2IvQl1Aqc723qV1tBCQaVoqo=" crossorigin="anonymous"></script>
<script>
(function(){
  let plantumlPrefix = "language-plantuml";
  Array.prototype.forEach.call(document.querySelectorAll("[class^=" + plantumlPrefix + "]"), function(code){
    let image = document.createElement("IMG");
    image.loading = 'lazy'; 
    image.src = 'http://www.plantuml.com/plantuml/svg/~1' + plantumlEncoder.encode(code.innerText);
    code.parentNode.parentNode.insertBefore(image, code.parentNode);
    code.parentNode.style.display = 'none';
  });
})();
</script>


</body>
</html>
